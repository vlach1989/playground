{"version":3,"sources":["serviceWorker.js","state/Store.js","app.js","components/MapWrapperPlayground/CustomWrapper.js","components/MapZoomBoxRangeRange.js","components/MapWrapperPlayground/presentation.js","components/MapView/presentation.js","components/MapWrapperPlayground/index.js","components/MapView/index.js","components/Test/components/Colour.js","components/Test/components/Code.js","components/Test/index.js","components/Leaflet.js","index.js"],"names":["Boolean","window","location","hostname","match","isServer","createMemoryHistory","createBrowserHistory","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createEnhancer","requestCounter","reduxBatch","middlewares","createAsyncMiddleware","thunk","process","applyMiddleware","filter","v","createMiddleware","createAppStore","options","isPreloaded","__PRELOADED_STATE__","initialState","Store","createRequestCounter","store","createStore","combineReducers","baseStores","absPath","protocol","host","currentUrl","navHandler","dispatch","Action","app","setKey","setBaseUrl","CustomWrapper","className","style","background","position","bottom","left","zIndex","this","props","view","boxRange","children","React","PureComponent","center","lat","lon","viewLimits","boxRangeRange","osm","key","type","url","ConnectedMap","connects","Map","PresentationMap","ConnectedMapSet","MapSet","layers","features","czGadm","fidColumnName","Presentation","addSet","data","backgroundLayer","setSetSync","heading","addMap","addMapToSet","paddingLeft","height","stateMapSetKey","mapComponent","ReactLeafletMap","connectedMapComponent","wrapper","levelsBased","zoomOnly","margin","activeMapKey","sync","wrapperProps","onMapRemove","mapKey","alert","name","width","popupContentComponent","WorldWindMap","title","active","connect","state","ownProps","set","maps","map","presentation","leafletConnectedMap","worldWindConnectedMap","connectedMapSet","display","flexDirection","stateMapKey","half","colour","no","borderColor","color","light","dark","colourFunc","scaleBase","string","base","lightString","darkString","getTile","start","stop","level","_","random","tile","slice","step","opacity","tiles","france","hoverable","hovered","selectable","selected","testSelection","hoveredStyle","rules","styles","outlineWidth","outlineColor","outlineOpacity","fillOpacity","attributeKey","attributeValues","fill","Leaflet","addFeaturesTiled","bind","setStyle","removeTile","onLayerClick","layerKey","selectedFeatures","setState","layer","i","keys","prevTiles","length","restTiledFeatures","push","getAllTiledFeatures","setTimeout","tileToAdd","find","flexWrap","onClick","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.eda7ded5.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {\r\n\tcreateStore,\r\n\tcombineReducers,\r\n\tapplyMiddleware,\r\n\tcompose,\r\n\tthunk,\r\n\treduxBatch,\r\n\tlogger\r\n} from '@gisatcz/ptr-state';\r\nimport {createBrowserHistory, createMemoryHistory} from 'history';\r\nimport {\r\n\tcreateRequestCounter,\r\n\tcreateAsyncMiddleware,\r\n\tisServer,\r\n} from '@gisatcz/ptr-core';\r\n\r\nimport {init as initApp} from '../app';\r\n\r\n// base types\r\nimport {baseStores} from '@gisatcz/ptr-state';\r\n\r\nexport const history = isServer\r\n\t? createMemoryHistory()\r\n\t: createBrowserHistory();\r\n\r\nfunction createMiddleware(requestCounter) {\r\n\tconst middlewares = [\r\n\t\tcreateAsyncMiddleware(requestCounter),\r\n\t\tthunk,\r\n\t\tprocess.env.NODE_ENV === 'development' && !isServer && logger,\r\n\t];\r\n\r\n\treturn applyMiddleware(...middlewares.filter((v) => v !== false));\r\n}\r\n\r\nfunction createReducer() {\r\n\treturn combineReducers(baseStores);\r\n}\r\n\r\nconst composeEnhancers =\r\n\t(typeof window !== 'undefined' &&\r\n\t\twindow?.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?.({})) ||\r\n\tcompose;\r\n\r\nfunction createEnhancer(requestCounter) {\r\n\treturn composeEnhancers(\r\n\t\treduxBatch,\r\n\t\tcreateMiddleware(requestCounter),\r\n\t\treduxBatch\r\n\t);\r\n}\r\n\r\n/**\r\n * Returns object with keys `store`, `readyP`.\r\n * - `readyP` - Promise that resolves once the app is initialized (helpful with SSR).\r\n * - `store` - Redux store.\r\n */\r\nfunction createAppStore(options) {\r\n\tconst isPreloaded = !isServer && window.__PRELOADED_STATE__ != null;\r\n\tconst initialState = isPreloaded ? window.__PRELOADED_STATE__ : {};\r\n\tif (isPreloaded) {\r\n\t\tdelete window.__PRELOADED_STATE__;\r\n\t}\r\n\r\n\tconst requestCounter = createRequestCounter();\r\n\tconst store = createStore(\r\n\t\tcreateReducer(),\r\n\t\tinitialState,\r\n\t\tcreateEnhancer(requestCounter)\r\n\t);\r\n\r\n\tconst absPath =\r\n\t\toptions?.absPath ??\r\n\t\twindow.location.protocol +\r\n\t\t\t'//' +\r\n\t\t\twindow.location.host +\r\n\t\t\tprocess.env.PUBLIC_URL;\r\n\r\n\tinitApp(store, {\r\n\t\tabsPath,\r\n\t\tisPreloaded,\r\n\t\tcurrentUrl: options?.currentUrl,\r\n\t\tnavHandler: options?.navHandler,\r\n\t});\r\n\r\n\treturn {\r\n\t\tstore: store,\r\n\t\trequestCounter: requestCounter,\r\n\t};\r\n}\r\n\r\nexport default createAppStore;\r\n","import React from 'react';\r\n\r\nimport {Action} from '@gisatcz/ptr-state';\r\n\r\nconst path = process.env.PUBLIC_URL;\r\n\r\n\r\nfunction init(Store, {absPath, isPreloaded, currentUrl, navHandler}) {\r\n    /**\r\n     * Creates router instance that can be used to manipulat urls.\r\n     *\r\n     * App handler updates store with current page and it's up to views to react to the change.\r\n     * In case of url change, redux selector possibly retrieves different data and passes them\r\n     * into some the component.\r\n     *\r\n     */\r\n\r\n    Store.dispatch(Action.app.setKey('vlach1989playground'));\r\n    Store.dispatch(Action.app.setBaseUrl(path));\r\n}\r\n\r\nexport {init};","import React from \"react\";\r\n\r\nclass CustomWrapper extends React.PureComponent {\r\n    render() {\r\n        return (\r\n            <div className=\"ptr-map-wrapper\">\r\n                <div style={{background: 'white', position: 'absolute', bottom: 0, left: 0, zIndex: 2}}>\r\n                    {this.props.view && this.props.view.boxRange}\r\n                </div>\r\n                {this.props.children}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CustomWrapper;","import React from 'react';\r\nimport {PresentationMap, MapControls, WorldWindMap, ReactLeafletMap, MapSet, MapSetMap, MapSetPresentationMap} from \"@gisatcz/ptr-maps\";\r\nimport CustomWrapper from \"./MapWrapperPlayground/CustomWrapper\";\r\n\r\nconst view = {\r\n    center: {lat: 50, lon: 15},\r\n    boxRange: 1000000\r\n};\r\n\r\nconst viewLimits = {\r\n  boxRangeRange: [50000,2000000]\r\n};\r\n\r\nconst osm = {\r\n    key: 'background-osm',\r\n    type: 'wmts',\r\n    options: {\r\n        url: 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\r\n    }\r\n};\r\n\r\nclass MapZoomBoxRangeRange extends React.PureComponent {\r\n    render() {\r\n        return (\r\n            <div className=\"ptr-light\" style={{display: 'flex', flexWrap: 'wrap'}}>\r\n                <div style={{height: 400, width: 1000, margin: 10}}>\r\n                    <PresentationMap\r\n                        mapKey=\"leaflet\"\r\n                        mapComponent={ReactLeafletMap}\r\n                        backgroundLayer={osm}\r\n                        view={view}\r\n                        viewLimits={viewLimits}\r\n                        wrapper={CustomWrapper}\r\n                    >\r\n                        <MapControls zoomOnly levelsBased/>\r\n                    </PresentationMap>\r\n                </div>\r\n                <div style={{height: 400, width: 500, margin: 10}}>\r\n                    <PresentationMap\r\n                        mapComponent={WorldWindMap}\r\n                        backgroundLayer={osm}\r\n                        view={view}\r\n                        viewLimits={viewLimits}\r\n                        levelsBased={true}\r\n                        wrapper={CustomWrapper}\r\n                    >\r\n                        <MapControls zoomOnly levelsBased/>\r\n                    </PresentationMap>\r\n                </div>\r\n                <div style={{height: 400, width: 500, margin: 10}}>\r\n                    <PresentationMap\r\n                        mapComponent={WorldWindMap}\r\n                        backgroundLayer={osm}\r\n                        view={view}\r\n                        viewLimits={viewLimits}\r\n                        wrapper={CustomWrapper}\r\n                    >\r\n                        <MapControls/>\r\n                    </PresentationMap>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MapZoomBoxRangeRange;","import React from 'react';\r\nimport {PresentationMap, MapControls, WorldWindMap, ReactLeafletMap, MapSet, MapSetMap, MapSetPresentationMap, MapWrapper} from \"@gisatcz/ptr-maps\";\r\nimport {HoverHandler} from \"@gisatcz/ptr-core\";\r\nimport {connects} from \"@gisatcz/ptr-state\";\r\nimport wrapper from \"./CustomWrapper\";\r\n\r\nimport czGadm from \"../../data/czGadm.json\";\r\nimport CustomWrapper from \"./CustomWrapper\";\r\n\r\nconst ConnectedMap = connects.Map(PresentationMap);\r\nconst ConnectedMapSet = connects.MapSet(MapSet);\r\n\r\nconst view = {\r\n    center: {lat: 50, lon: 15},\r\n    boxRange: 1000000\r\n};\r\n\r\nconst osm = {\r\n    key: 'background-osm',\r\n    type: 'wmts',\r\n    options: {\r\n        url: 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\r\n    }\r\n};\r\n\r\nconst layers = [{\r\n    key: \"polygons-with-selection\",\r\n    type: \"vector\",\r\n    options: {\r\n        features: czGadm.features,\r\n        fidColumnName: \"GID_1\"\r\n    }\r\n}];\r\n\r\nclass Presentation extends React.PureComponent {\r\n    componentDidMount() {\r\n        const props = this.props;\r\n        props.addSet({\r\n            key: 'map-wrapper-map-set',\r\n            data: {\r\n                backgroundLayer: osm,\r\n                view: {\r\n                    center: {\r\n                        lat: 50,\r\n                        lon: 15\r\n                    },\r\n                    boxRange: 5000000\r\n                }\r\n            }\r\n        });\r\n\r\n        props.setSetSync('map-wrapper-map-set', {center: true, boxRange: true, heading: true});\r\n        props.addMap({key: 'map-wrapper-map-1'});\r\n        props.addMap({key: 'map-wrapper-map-2'});\r\n        props.addMap({key: 'map-wrapper-map-3'});\r\n        props.addMap({key: 'map-wrapper-map-4'});\r\n        props.addMap({key: 'map-wrapper-map-5'});\r\n        props.addMapToSet('map-wrapper-map-set', 'map-wrapper-map-1');\r\n        props.addMapToSet('map-wrapper-map-set', 'map-wrapper-map-2');\r\n        props.addMapToSet('map-wrapper-map-set', 'map-wrapper-map-3');\r\n        props.addMapToSet('map-wrapper-map-set', 'map-wrapper-map-4');\r\n        props.addMapToSet('map-wrapper-map-set', 'map-wrapper-map-5');\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"ptr-light\" style={{paddingLeft: 10}}>\r\n                <h3>Connected map set</h3>\r\n                <div style={{height: 500}}>\r\n                    <ConnectedMapSet\r\n                        stateMapSetKey=\"map-wrapper-map-set\"\r\n                        mapComponent={ReactLeafletMap}\r\n                        connectedMapComponent={ConnectedMap}\r\n                        wrapper={CustomWrapper}\r\n                        // disableMapRemoval\r\n                    >\r\n                        <MapControls levelsBased zoomOnly/>\r\n                    </ConnectedMapSet>\r\n                </div>\r\n\r\n                <h3>Unconrolled unconnected Map set</h3>\r\n                <div style={{height: 260, margin: 10}}>\r\n                    <MapSet\r\n                        activeMapKey='map-2'\r\n                        mapComponent={ReactLeafletMap}\r\n                        view={{\r\n                            boxRange: 5000000\r\n                        }}\r\n                        sync={{\r\n                            boxRange: false,\r\n                            center: true\r\n                        }}\r\n                        backgroundLayer={osm}\r\n                        wrapper\r\n                        wrapperProps={{\r\n                            onMapRemove: (mapKey)=>{window.alert(mapKey)},\r\n                        }}\r\n                    >\r\n                        <MapSetPresentationMap\r\n                            mapKey='map-1'\r\n                            name=\"Map 1\"\r\n                        />\r\n                        <MapSetPresentationMap\r\n                            mapKey='map-2'\r\n                            name=\"Map 2\"\r\n                        />\r\n                        <MapSetPresentationMap\r\n                            mapKey='map-3'\r\n                            name=\"Map XYZ\"\r\n                        />\r\n                        <MapControls levelsBased zoomOnly/>\r\n                    </MapSet>\r\n                </div>\r\n\r\n                <h3>PresentationMap component - wrapper, wrapperProps as props</h3>\r\n                <div style={{height: 260, width: 500, margin: 10}}>\r\n                    <HoverHandler\r\n                        popupContentComponent={\r\n                            (props) => <b>{props.data[\"NAME_1\"]}</b>\r\n                        }\r\n                    >\r\n                        <PresentationMap\r\n                            mapComponent={WorldWindMap}\r\n                            name=\"Name from map\"\r\n                            mapKey=\"very special map key\"\r\n                            wrapper\r\n                            wrapperProps={{\r\n                                title: \"Mapička dlouhý název, předlouhý, tuze dlouhý, no, opravdu\",\r\n                                onMapRemove: (mapKey)=>{window.alert(mapKey)},\r\n                                active: true\r\n                            }}\r\n                            backgroundLayer={osm}\r\n                            layers={layers}\r\n                            view={view}\r\n                        >\r\n                            <MapControls/>\r\n                        </PresentationMap>\r\n                    </HoverHandler>\r\n                </div>\r\n\r\n                <h3>presentation</h3>\r\n                <div style={{height: 400, width: 500, margin: 10}}>\r\n                    <MapWrapper title=\"Custom map title which is very looooooooong, longer than expected\" onMapRemove={()=>{window.alert(\"Remove\")}}>\r\n                        <ReactLeafletMap\r\n                            mapKey=\"leaflet\"\r\n                            backgroundLayer={osm}\r\n                            view={view}\r\n                        />\r\n                    </MapWrapper>\r\n                </div>\r\n                <div style={{height: 400, width: 500, margin: 10}}>\r\n                    <MapWrapper active onMapRemove={()=>{window.alert(\"Remove\")}}>\r\n                        <ReactLeafletMap\r\n                            mapKey=\"leaflet\"\r\n                            backgroundLayer={osm}\r\n                            view={view}\r\n                        />\r\n                    </MapWrapper>\r\n                </div>\r\n                <div style={{height: 400, width: 500, margin: 10}}>\r\n                    <MapWrapper active title onMapRemove={()=>{window.alert(\"Remove\")}}>\r\n                        <WorldWindMap\r\n                            backgroundLayer={osm}\r\n                            view={view}\r\n                        />\r\n                    </MapWrapper>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Presentation;","import React from 'react';\r\nimport {MapControls, WorldWindMap, ReactLeafletMap, MapSet, MapSetPresentationMap, PresentationMap} from \"@gisatcz/ptr-maps\";\r\nimport CustomWrapper from \"../MapWrapperPlayground/CustomWrapper\";\r\nimport {connects} from \"@gisatcz/ptr-state\";\r\n\r\nconst osm = {\r\n    key: 'background-osm',\r\n    type: 'wmts',\r\n    options: {\r\n        url: 'http://{s}.tile.osm.org/{z}/{x}/{y}.png'\r\n    }\r\n};\r\n\r\nconst ConnectedMap = connects.Map(PresentationMap);\r\nconst ConnectedMapSet = connects.MapSet(MapSet);\r\n\r\nconst leafletConnectedMap = {\r\n    key: 'leafletConnectedMap',\r\n    data: {\r\n        backgroundLayer: osm,\r\n        view: {\r\n            center: {\r\n                lat: 0,\r\n                lon: 40\r\n            },\r\n            boxRange: 200000\r\n        }\r\n    }\r\n};\r\n\r\nconst worldWindConnectedMap = {\r\n    key: 'worldWindConnectedMap',\r\n    data: {\r\n        backgroundLayer: osm,\r\n        view: {\r\n            center: {\r\n                lat: 0,\r\n                lon: 40\r\n            },\r\n            boxRange: 200000\r\n        }\r\n    }\r\n};\r\n\r\nconst connectedMapSet = {\r\n    key: 'connectedMapSet',\r\n    data: {\r\n        backgroundLayer: osm,\r\n        view: {\r\n            center: {\r\n                lat: 50,\r\n                lon: 15\r\n            },\r\n            boxRange: 50000\r\n        }\r\n    },\r\n    sync: {center: true, boxRange: true}\r\n};\r\n\r\nclass Presentation extends React.PureComponent {\r\n    componentDidMount() {\r\n        const props = this.props;\r\n        props.addMap(leafletConnectedMap);\r\n        props.addMap(worldWindConnectedMap);\r\n\r\n        props.addSet(connectedMapSet);\r\n\r\n        props.addMap({key: 'connectedMapSet-map1'});\r\n        props.addMap({key: 'connectedMapSet-map2'});\r\n        props.addMap({key: 'connectedMapSet-map3'});\r\n\r\n        props.addMapToSet('connectedMapSet', 'connectedMapSet-map1');\r\n        props.addMapToSet('connectedMapSet', 'connectedMapSet-map2');\r\n        props.addMapToSet('connectedMapSet', 'connectedMapSet-map3');\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"ptr-light\" style={{paddingLeft: 10}}>\r\n                <h2>Presentational components</h2>\r\n                <p>What's wrong with World wind in equal size & portrait view when zooming in at street level? :/</p>\r\n                <div style={{height: 400, width: 400, margin: 10}}>\r\n                    <ReactLeafletMap\r\n                        backgroundLayer={osm}\r\n                        view={{boxRange: 2000}}\r\n                        mapKey='leaflet-presentational'\r\n                    />\r\n                </div>\r\n                <div style={{display: 'flex'}}>\r\n                    <div style={{height: 200, width: 200, margin: 10}}>\r\n                        <PresentationMap\r\n                            backgroundLayer={osm}\r\n                            wrapper={CustomWrapper}\r\n                            view={{boxRange: 2000}}\r\n                            mapComponent={ReactLeafletMap}\r\n                            mapKey='leaflet-presentational'\r\n                        >\r\n                            <MapControls levelsBased zoomOnly/>\r\n                        </PresentationMap>\r\n                    </div>\r\n                    <div style={{height: 200, width: 200, margin: 10}}>\r\n                        <PresentationMap\r\n                            backgroundLayer={osm}\r\n                            wrapper={CustomWrapper}\r\n                            view={{boxRange: 2000}}\r\n                            mapComponent={WorldWindMap}\r\n                            levelsBased\r\n                        >\r\n                            <MapControls levelsBased zoomOnly/>\r\n                        </PresentationMap>\r\n                    </div>\r\n                    <div style={{height: 200, width: 200, margin: 10}}>\r\n                        <PresentationMap\r\n                            backgroundLayer={osm}\r\n                            wrapper={CustomWrapper}\r\n                            view={{boxRange: 2000000}}\r\n                            mapComponent={ReactLeafletMap}\r\n                            mapKey='leaflet-presentational-a'\r\n                        >\r\n                            <MapControls levelsBased zoomOnly/>\r\n                        </PresentationMap>\r\n                    </div>\r\n                    <div style={{height: 200, width: 200, margin: 10}}>\r\n                        <PresentationMap\r\n                            backgroundLayer={osm}\r\n                            wrapper={CustomWrapper}\r\n                            view={{boxRange: 2000000}}\r\n                            mapComponent={WorldWindMap}\r\n                        >\r\n                            <MapControls levelsBased zoomOnly/>\r\n                        </PresentationMap>\r\n                    </div>\r\n                </div>\r\n                <div style={{display: 'flex'}}>\r\n                    <div style={{height: 600, width: 200, margin: 10}}>\r\n                        <PresentationMap\r\n                            backgroundLayer={osm}\r\n                            wrapper={CustomWrapper}\r\n                            view={{boxRange: 2000}}\r\n                            mapComponent={ReactLeafletMap}\r\n                            mapKey='leaflet-presentational-1'\r\n                        >\r\n                            <MapControls levelsBased zoomOnly/>\r\n                        </PresentationMap>\r\n                    </div>\r\n                    <div style={{height: 600, width: 200, margin: 10}}>\r\n                        <PresentationMap\r\n                            backgroundLayer={osm}\r\n                            wrapper={CustomWrapper}\r\n                            view={{boxRange: 2000}}\r\n                            mapComponent={WorldWindMap}\r\n                        >\r\n                            <MapControls levelsBased zoomOnly/>\r\n                        </PresentationMap>\r\n                    </div>\r\n                    <div style={{height: 600, width: 200, margin: 10}}>\r\n                        <PresentationMap\r\n                            backgroundLayer={osm}\r\n                            wrapper={CustomWrapper}\r\n                            view={{boxRange: 2000000}}\r\n                            mapComponent={ReactLeafletMap}\r\n                            mapKey='leaflet-presentational-a1'\r\n                        >\r\n                            <MapControls levelsBased zoomOnly/>\r\n                        </PresentationMap>\r\n                    </div>\r\n                    <div style={{height: 600, width: 200, margin: 10}}>\r\n                        <PresentationMap\r\n                            backgroundLayer={osm}\r\n                            wrapper={CustomWrapper}\r\n                            view={{boxRange: 2000000}}\r\n                            mapComponent={WorldWindMap}\r\n                        >\r\n                            <MapControls levelsBased zoomOnly/>\r\n                        </PresentationMap>\r\n                    </div>\r\n                </div>\r\n                <div style={{display: 'flex', flexDirection: 'column'}}>\r\n                    <div style={{height: 200, width: 800, margin: 10}}>\r\n                        <PresentationMap\r\n                            backgroundLayer={osm}\r\n                            wrapper={CustomWrapper}\r\n                            view={{boxRange: 2000}}\r\n                            mapComponent={ReactLeafletMap}\r\n                            mapKey='leaflet-presentational-3'\r\n                        >\r\n                            <MapControls levelsBased zoomOnly/>\r\n                        </PresentationMap>\r\n                    </div>\r\n                    <div style={{height: 200, width: 800, margin: 10}}>\r\n                        <PresentationMap\r\n                            backgroundLayer={osm}\r\n                            wrapper={CustomWrapper}\r\n                            view={{boxRange: 2000}}\r\n                            mapComponent={WorldWindMap}\r\n                        >\r\n                            <MapControls levelsBased zoomOnly/>\r\n                        </PresentationMap>\r\n                    </div>\r\n                    <div style={{height: 200, width: 800, margin: 10}}>\r\n                        <PresentationMap\r\n                            backgroundLayer={osm}\r\n                            wrapper={CustomWrapper}\r\n                            view={{boxRange: 2000000}}\r\n                            mapComponent={ReactLeafletMap}\r\n                            mapKey='leaflet-presentational-3a'\r\n                        >\r\n                            <MapControls levelsBased zoomOnly/>\r\n                        </PresentationMap>\r\n                    </div>\r\n                    <div style={{height: 200, width: 800, margin: 10}}>\r\n                        <PresentationMap\r\n                            backgroundLayer={osm}\r\n                            wrapper={CustomWrapper}\r\n                            view={{boxRange: 2000000}}\r\n                            mapComponent={WorldWindMap}\r\n                        >\r\n                            <MapControls levelsBased zoomOnly/>\r\n                        </PresentationMap>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n\r\n\r\n                <h2>Controlled component</h2>\r\n                <div style={{height: 300, width: 800, margin: 10}}>\r\n                    <ConnectedMap\r\n                        stateMapKey=\"leafletConnectedMap\"\r\n                        wrapper={CustomWrapper}\r\n                        mapComponent={ReactLeafletMap}\r\n                    >\r\n                        <MapControls levelsBased zoomOnly/>\r\n                    </ConnectedMap>\r\n                </div>\r\n                <div style={{height: 300, width: 800, margin: 10}}>\r\n                    <ConnectedMap\r\n                        stateMapKey=\"worldWindConnectedMap\"\r\n                        wrapper={CustomWrapper}\r\n                        mapComponent={WorldWindMap}\r\n                    >\r\n                        <MapControls/>\r\n                    </ConnectedMap>\r\n                </div>\r\n\r\n                <h2>Map set</h2>\r\n                <h3>Presentation</h3>\r\n                <div style={{height: 100, margin: 10}}>\r\n                    <MapSet\r\n                        activeMapKey='map-2'\r\n                        sync={{\r\n                            boxRange: true,\r\n                            center: true\r\n                        }}\r\n                        backgroundLayer={osm}\r\n                        view={{boxRange: 1000}}\r\n                        wrapper={CustomWrapper}\r\n                    >\r\n                        <MapSetPresentationMap\r\n                            mapKey='map-1'\r\n                            mapComponent={ReactLeafletMap}\r\n                        />\r\n                        <MapSetPresentationMap\r\n                            mapKey='map-2'\r\n                            mapComponent={ReactLeafletMap}\r\n                        />\r\n                        <MapSetPresentationMap\r\n                            mapKey='map-3'\r\n                            mapComponent={ReactLeafletMap}\r\n                        />\r\n                        <MapControls levelsBased zoomOnly/>\r\n                    </MapSet>\r\n                </div>\r\n                <h4>Levels-based World Wind</h4>\r\n                <div style={{height: 500, margin: 10}}>\r\n                    <MapSet\r\n                        activeMapKey='map-2'\r\n                        sync={{\r\n                            boxRange: true,\r\n                            center: true\r\n                        }}\r\n                        backgroundLayer={osm}\r\n                        view={{boxRange: 666666}}\r\n                        wrapper={CustomWrapper}\r\n                    >\r\n                        <MapSetPresentationMap\r\n                            mapKey='map-1'\r\n                            mapComponent={WorldWindMap}\r\n                            levelsBased\r\n                        />\r\n                        <MapSetPresentationMap\r\n                            mapKey='map-2'\r\n                            mapComponent={WorldWindMap}\r\n                            levelsBased\r\n                        />\r\n                        <MapSetPresentationMap\r\n                            mapKey='map-3'\r\n                            mapComponent={WorldWindMap}\r\n                            levelsBased\r\n                        />\r\n                        <MapControls levelsBased zoomOnly/>\r\n                    </MapSet>\r\n                </div>\r\n                <h4>Continual World Wind</h4>\r\n                <div style={{height: 600, width: 400, margin: 10}}>\r\n                    <MapSet\r\n                        activeMapKey='map-2'\r\n                        sync={{\r\n                            boxRange: true,\r\n                            center: true\r\n                        }}\r\n                        backgroundLayer={osm}\r\n                        view={{boxRange: 666666}}\r\n                        wrapper={CustomWrapper}\r\n                        mapComponent={WorldWindMap}\r\n                    >\r\n                        <MapSetPresentationMap\r\n                            mapKey='map-1'\r\n                        />\r\n                        <MapSetPresentationMap\r\n                            mapKey='map-2'\r\n                        />\r\n                        <MapSetPresentationMap\r\n                            mapKey='map-3'\r\n                        />\r\n                        <MapControls/>\r\n                    </MapSet>\r\n                </div>\r\n                <h3>Controlled map set</h3>\r\n                <div style={{height: 500, margin: 10}}>\r\n                    <ConnectedMapSet\r\n                        stateMapSetKey=\"connectedMapSet\"\r\n                        mapComponent={ReactLeafletMap}\r\n                        connectedMapComponent={ConnectedMap}\r\n                        wrapper={CustomWrapper}\r\n                    >\r\n                        <MapControls levelsBased zoomOnly/>\r\n                    </ConnectedMapSet>\r\n                </div>\r\n                <h3>Mixed frameworks</h3>\r\n                <div style={{height: 100, margin: 10}}>\r\n                    <MapSet\r\n                        activeMapKey='map-2'\r\n                        sync={{\r\n                            boxRange: true,\r\n                            center: true\r\n                        }}\r\n                        backgroundLayer={osm}\r\n                        view={{boxRange: 666666}}\r\n                        wrapper={CustomWrapper}\r\n                    >\r\n                        <MapSetPresentationMap\r\n                            mapKey='map-1'\r\n                            mapComponent={ReactLeafletMap}\r\n                        />\r\n                        <MapSetPresentationMap\r\n                            mapKey='map-2'\r\n                            mapComponent={WorldWindMap}\r\n                            levelsBased\r\n                        />\r\n                        <MapControls levelsBased zoomOnly/>\r\n                    </MapSet>\r\n                </div>\r\n                <div style={{height: 500, margin: 10}}>\r\n                    <MapSet\r\n                        activeMapKey='map-2'\r\n                        sync={{\r\n                            boxRange: true,\r\n                            center: true\r\n                        }}\r\n                        backgroundLayer={osm}\r\n                        view={{boxRange: 666666}}\r\n                        wrapper={CustomWrapper}\r\n                    >\r\n                        <MapSetPresentationMap\r\n                            mapKey='map-1'\r\n                            mapComponent={ReactLeafletMap}\r\n                        />\r\n                        <MapSetPresentationMap\r\n                            mapKey='map-2'\r\n                            mapComponent={WorldWindMap}\r\n                            levelsBased\r\n                        />\r\n                        <MapControls levelsBased zoomOnly/>\r\n                    </MapSet>\r\n                </div>\r\n                <div style={{height: 100, width: 600, margin: 10}}>\r\n                    <MapSet\r\n                        activeMapKey='map-2'\r\n                        sync={{\r\n                            boxRange: true,\r\n                            center: true\r\n                        }}\r\n                        backgroundLayer={osm}\r\n                        view={{boxRange: 6666}}\r\n                        wrapper={CustomWrapper}\r\n                    >\r\n                        <MapSetPresentationMap\r\n                            mapKey='map-1'\r\n                            mapComponent={ReactLeafletMap}\r\n                        />\r\n                        <MapSetPresentationMap\r\n                            mapKey='map-2'\r\n                            mapComponent={WorldWindMap}\r\n                            levelsBased\r\n                        />\r\n                        <MapControls levelsBased zoomOnly/>\r\n                    </MapSet>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Presentation;","import {connect} from '@gisatcz/ptr-state';\r\nimport {Action, Select} from '@gisatcz/ptr-state';\r\n\r\nimport presentation from \"./presentation\";\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    return {\r\n        addSet: (set) => {\r\n            dispatch(Action.maps.addSet(set));\r\n        },\r\n        addMap: (map) => {\r\n            dispatch(Action.maps.addMap(map));\r\n        },\r\n        addMapToSet: (setKey, mapKey) => {\r\n            dispatch(Action.maps.addMapToSet(setKey, mapKey));\r\n        },\r\n        setSetSync: (setKey, sync) => {\r\n            dispatch(Action.maps.setSetSync(setKey, sync));\r\n        }\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(presentation);","import {connect} from '@gisatcz/ptr-state';\r\nimport {Action, Select} from '@gisatcz/ptr-state';\r\n\r\nimport presentation from \"./presentation\";\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    return {\r\n        addSet: (set) => {\r\n            dispatch(Action.maps.addSet(set));\r\n        },\r\n        addMap: (map) => {\r\n            dispatch(Action.maps.addMap(map));\r\n        },\r\n        addMapToSet: (setKey, mapKey) => {\r\n            dispatch(Action.maps.addMapToSet(setKey, mapKey));\r\n        },\r\n        setSetSync: (setKey, sync) => {\r\n            dispatch(Action.maps.setSetSync(setKey, sync));\r\n        }\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(presentation);","import React from \"react\";\r\n\r\nconst half = (colour, no) => (\r\n\t<>\r\n\t\t<div className=\"ptr-test-colour-no\">{no}</div>\r\n\t\t<div className=\"ptr-test-colour-box\" style={{background: colour}}/>\r\n\t\t<div className=\"ptr-test-colour-lines\" style={{borderColor: colour}}/>\r\n\t\t<div className=\"ptr-test-colour-text\" style={{color: colour}}>This is an example of text.</div>\r\n\t</>\r\n);\r\n\r\nexport default props => (\r\n\t<div className=\"ptr-test-colour\">\r\n\t\t<div className=\"ptr-light\">\r\n\t\t\t{half(props.light, props.no)}\r\n\t\t</div>\r\n\t\t<div className=\"ptr-dark\">\r\n\t\t\t{half(props.dark, props.no)}\r\n\t\t</div>\r\n\t</div>\r\n);","import React from \"react\";\r\n\r\nconst half = (colourFunc, scaleBase, string) => (\r\n\t<code>\r\n\t\t{scaleBase.map(v => (\r\n\t\t\t<>{'$' + string + v*100 + ': ' + colourFunc(v) + ';'}<br/></>\r\n\t\t))}\r\n\t</code>\r\n);\r\n\r\nexport default props => (\r\n\t<div className=\"ptr-test-colour\" style={{color: '#999'}}>\r\n\t\t<div className=\"ptr-light\">\r\n\t\t\t{half(props.light, props.base, props.lightString)}\r\n\t\t</div>\r\n\t\t<div className=\"ptr-dark\">\r\n\t\t\t{half(props.dark, props.base, props.darkString)}\r\n\t\t</div>\r\n\t</div>\r\n);","import React from 'react';\r\nimport chroma from 'chroma-js';\r\nimport _ from 'lodash';\r\n\r\nimport './style.scss';\r\n\r\nimport Colour from './components/Colour';\r\nimport Code from \"./components/Code\";\r\n\r\nclass Test extends React.PureComponent {\r\n\trender() {\r\n\t\tlet lightBase;\r\n\t\t// let lightBase = [\r\n\t\t// \t'#fffefc',\r\n\t\t// \t'#f0f0ef',\r\n\t\t// \t'#d7d7d5',\r\n\t\t// \t'#bebdbb',\r\n\t\t// \t'#9d9c9b',\r\n\t\t// \t'#81807e',\r\n\t\t// \t'#676664',\r\n\t\t// \t'#4d4c4b',\r\n\t\t// \t'#353433',\r\n\t\t// \t'#1f1e1d',\r\n\t\t// \t'#040300'\r\n\t\t// ];\r\n\r\n\r\n\r\n\t\tlet func = {\r\n\t\t\tsin: x => Math.pow(x, 1/6)*(0.5*(1+(Math.sin(Math.PI*x-Math.PI/2)))),\r\n\t\t\tweightedSin: x => ((Math.pow(x, 1/6)*(0.5*(1+(Math.sin(Math.PI*x-Math.PI/2)))))*2+x)/3,\r\n\t\t\tpoly4_1: x => 1.734477 * Math.pow(x,4) - 4.164844 * Math.pow(x,3) + 3.416132 * Math.pow(x,2) + 0.004750521 * x,\r\n\t\t\tpoly5_1: x => 7.170323 * Math.pow(x,5) - 15.85702 * Math.pow(x,4) + 10.62491 * Math.pow(x,3) - 1.38351 * Math.pow(x,2) + 0.4479228 * x,\r\n\t\t\tpoly5_2: x => 11.201544570129158 * Math.pow(x,5) - 25.281350401487394 * Math.pow(x,4) + 18.144704154311945 * Math.pow(x,3) - 3.7506861589123197 * Math.pow(x,2) + 0.6854290141573289 * x,\r\n\t\t\tpoly5_3: x => 10.488784636649553 * Math.pow(x,5) - 23.378365791825725 * Math.pow(x,4) + 16.338625076736328 * Math.pow(x,3) - 3.0407060124009617 * Math.pow(x,2) + 0.5910582378695448 * x,\r\n\t\t\tpoly5_3_reverse: x => -1.4299532950700888 * Math.pow(x,5) - 0.7904945513948627 * Math.pow(x,4) + 6.515917255358833 * Math.pow(x,3) - 5.8650595314990035 * Math.pow(x,2) + 2.571239466686039 * x,\r\n\t\t\tpoly5_dark_1: x => -2.9570187975647215 * Math.pow(x,5) + 6.36583476976551 * Math.pow(x,4) - 4.480999912718653 * Math.pow(x,3) + 0.9219776983607566 * Math.pow(x,2) + 1.1478244379577907 * x,\r\n\t\t\tpoly5_dark_2: x => 3.4127383805752163 * Math.pow(x,5) - 7.515438380430648 * Math.pow(x,4) + 5.036490434394787 * Math.pow(x,3) - 0.9939362345459315 * Math.pow(x,2) + 1.0602582306098571 * x,\r\n\t\t\tpoly5_dark_3: x => -1.7700945036216769 * Math.pow(x,5) + 4.304215472355645 * Math.pow(x,4) - 4.156861953808352 * Math.pow(x,3) + 1.8640841239335286 * Math.pow(x,2) + 0.7585799732319245 * x,\r\n\t\t\tpoly5_dark_4: x => 1.8029482531040015 * Math.pow(x,5) - 3.7807511314326407 * Math.pow(x,4) + 2.0538124091941405 * Math.pow(x,3) - 0.028245268825428955 * Math.pow(x,2) + 0.9517842595912386 * x,\r\n\t\t\tpoly6_dark_1: x => - 14.861223703758561 * Math.pow(x,6) + 42.67857300079763 * Math.pow(x,5) - 45.318648318930805 * Math.pow(x,4) + 21.23308346105347 * Math.pow(x,3) - 3.9715919420674775 * Math.pow(x,2) + 1.241597572374719 * x,\r\n\t\t\tpoly6_dark_2: x => - 12.24244793333811 * Math.pow(x,6) + 35.18966549158417 * Math.pow(x,5) - 37.51795945847538 * Math.pow(x,4) + 17.6366962706446 * Math.pow(x,3) - 3.257760310727048 * Math.pow(x,2) + 1.1930146250308482 * x,\r\n\t\t\tpoly6_dark_3: x => - 9.078052129304432 * Math.pow(x,6) + 26.86874074886899 * Math.pow(x,5) - 29.545781890954203 * Math.pow(x,4) + 14.229080324563313 * Math.pow(x,3) - 2.6259657069382323 * Math.pow(x,2) + 1.152769392179279 * x,\r\n\t\t\tpoly6_dark_4: x => - 5.913656325270676 * Math.pow(x,6) + 18.547816006153575 * Math.pow(x,5) - 21.573604323432754 * Math.pow(x,4) + 10.821464378481888 * Math.pow(x,3) - 1.9941711031493847 * Math.pow(x,2) + 1.112524159327707 * x,\r\n\t\t\tpoly6_dark_5: x => - 2.7492605212369323 * Math.pow(x,6) + 10.226891263438196 * Math.pow(x,5) - 13.601426755911348 * Math.pow(x,4) + 7.413848432400486 * Math.pow(x,3) - 1.3623764993605418 * Math.pow(x,2) + 1.0722789264761354 * x,\r\n\r\n\r\n\t\t\tpol_1: x => 0.6400000000000001*x - 0.49333333333333373*Math.pow(x,2) + 3.2000000000000006*Math.pow(x,3) - 2.346666666666667*Math.pow(x,4),\r\n\t\t\tpol_2: x => 0.2133*x + 1.64*Math.pow(x,2) - 0.2133*Math.pow(x,3) - 0.640*Math.pow(x,4),\r\n\t\t\tdark_1: x => 18.010216631505134 * Math.pow(x,5) - 47.949603924685974 * Math.pow(x,4) + 43.88542214570672 * Math.pow(x,3) - 15.535211897927438 * Math.pow(x,2) + 2.5910694017115667 * x,\r\n\t\t\t// 0 0\r\n\t\t\t// 0.05 0.1\r\n\t\t\t// 0.2 0.15\r\n\t\t\t// 0.4 0.33\r\n\t\t\t// 0.5 0.45\r\n\t\t\t// 0.6 0.6\r\n\t\t\t// 0.75 0.8\r\n\t\t\t// 0.95 0.9\r\n\t\t\t// 1 1\r\n\t\t\tdark_2: x => 6.835993537108703 * Math.pow(x,6) - 0.5192326183032243 * Math.pow(x,5) - 27.967124384316897 * Math.pow(x,4) + 32.71921044081888 * Math.pow(x,3) - 12.228220409236972 * Math.pow(x,2) + 2.1485246118122774 * x,\r\n\t\t\t// 0 0\r\n\t\t\t// 0.05 0.1\r\n\t\t\t// 0.2 0.2\r\n\t\t\t// 0.5 0.55\r\n\t\t\t// 0.75 0.7\r\n\t\t\t// 0.85 0.8\r\n\t\t\t// 0.95 0.85\r\n\t\t\t// 1 1\r\n\t\t\tdark_3: x => - 16.771525574481732 * Math.pow(x,6) + 66.7826106223863 * Math.pow(x,5) - 94.58042990007708 * Math.pow(x,4) + 59.11556478149024 * Math.pow(x,3) - 16.073131950412407 * Math.pow(x,2) + 2.512802300179059 * x,\r\n\t\t\t// 0 0\r\n\t\t\t// 0.05 0.1\r\n\t\t\t// 0.2 0.2\r\n\t\t\t// 0.4 0.4\r\n\t\t\t// 0.5 0.55\r\n\t\t\t// 0.6 0.65\r\n\t\t\t// 0.75 0.72\r\n\t\t\t// 0.85 0.78\r\n\t\t\t// 0.95 0.83\r\n\t\t\t// 1 1\r\n\t\t\tdark_4: x => - 3.471773809194333 * Math.pow(x,6) + 32.51977419830884 * Math.pow(x,5) - 63.5414084279282 * Math.pow(x,4) + 47.52001810382409 * Math.pow(x,3) - 14.503247080420511 * Math.pow(x,2) + 2.4644101794063005 * x,\r\n\t\t\t// 0 0\r\n\t\t\t// 0.05 0.1\r\n\t\t\t// 0.2 0.2\r\n\t\t\t// 0.4 0.4\r\n\t\t\t// 0.5 0.55\r\n\t\t\t// 0.6 0.65\r\n\t\t\t// 0.85 0.78\r\n\t\t\t// 1 0.9\r\n\t\t\tdark_5: x => - 26.751352729025687 * Math.pow(x,6) + 95.25183311174372 * Math.pow(x,5) - 126.53319289285092 * Math.pow(x,4) + + 76.50778803221218 * Math.pow(x,3) - 20.469524829550483 * Math.pow(x,2) + 2.8952879111210823 * x,\r\n\r\n\r\n\t\t};\r\n\r\n\t\tconst ITEMS = 21;\r\n\t\tlet megaStep = 1000000/(ITEMS - 1); // fixing floating point precision\r\n\r\n\t\tlet scaleBase = [];\r\n\t\tfor (let i=0; i < ITEMS; i++) {\r\n\t\t\tscaleBase.push((i*megaStep)/1000000);\r\n\t\t}\r\n\r\n\t\tlet scale = _.mapValues(func, f => _.map(scaleBase, f));\r\n\r\n\t\tlet originalScale = [0, 0.04, 0.08, 0.13, 0.22, 0.33, 0.45, 0.55, 0.62, 0.7, 0.8, 0.9, 1];\r\n\t\tlet darkScale = [0, 0.1, 0.17, 0.28, 0.36, 0.43, 0.55, 0.65, 0.78, 0.87, 0.92, 0.96, 1];\r\n\r\n\r\n\t\tlet baseScale = chroma.scale(['#fffefc','#040300']).mode('lab').correctLightness();\r\n\t\tlet baseScaleDark = chroma.scale(['#040300', '#fffefc']).mode('lrgb').correctLightness();\r\n\t\tlet accentScale = chroma.scale(['#fffefc', '#2ab2ad', '#040300']).mode('lab').correctLightness();\r\n\t\tlet accentScaleDark = chroma.scale(['#040300', '#2ab2ad', '#fffefc']).mode('lab').correctLightness();\r\n\t\tlet accentScaleLrgb = chroma.scale(['#fffefc', '#2ab2ad', '#040300']).mode('lrgb').correctLightness();\r\n\t\tlet accentScale2 = chroma.scale(['#fffefc', '#4535b2', '#040300']).mode('lab').correctLightness();\r\n\t\tlet accentScale3 = chroma.scale(['#fffefc', '#b2802d', '#040300']).mode('lab').correctLightness();\r\n\t\tlet accentScale4 = chroma.scale(['#fffefc', chroma('#fff310').luminance(0.5), '#040300']).mode('lab').correctLightness();\r\n\t\tlet accentScale5 = chroma.scale(['#fffefc', '#27ad2e', '#040300']).mode('lab').correctLightness();\r\n\t\tlet accentScale6 = chroma.scale(['#fffefc', '#ad162b', '#040300']).mode('lab').correctLightness();\r\n\t\tlet accentScale7 = chroma.scale(['#fffefc', '#90daf8', '#040300']).mode('lab').correctLightness();\r\n\r\n\t\tlet esponFuore = chroma.scale(['#fffefc', '#4991DD', '#040300']).mode('lab').correctLightness();\r\n\r\n\t\tlet boBaseScale = chroma.scale(['#c7c5c2', '#040300']).mode('lab').correctLightness();\r\n\t\tlet boAccentScale = chroma.scale(['#c7c5c2', '#227773', '#040300']).mode('lab').correctLightness();\r\n\r\n\t\t// let darkBase = [\r\n\t\t// \t'#fffefc',\r\n\t\t// \t'#f0f0ef',\r\n\t\t// \t'#d7d7d5',\r\n\t\t// \t'#bebdbb',\r\n\t\t// \t'#9d9c9b',\r\n\t\t// \t'#81807e',\r\n\t\t// \t'#676664',\r\n\t\t// \t'#4d4c4b',\r\n\t\t// \t'#353433',\r\n\t\t// \t'#1f1e1d',\r\n\t\t// \t'#040300'\r\n\t\t// ];\r\n\r\n\t\tlet scssVar = scaleBase.map(value => {\r\n\t\t\tif (value === 0.05) {\r\n\t\t\t\treturn `$lightAccent05:  ${accentScale(func.poly5_3(value)).css('hsl')};`;\r\n\t\t\t}\r\n\t\t\treturn `$lightAccent${value*100}: ${accentScale(func.poly5_3(value)).css('hsl')};`;\r\n\t\t});\r\n\r\n\r\n\t\tscale.poly5_3.map(value => (console.log(baseScale(value).css('hsl'))));\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"ptr-bo-test\">\r\n\r\n\t\t\t\t{/*<div className=\"ptr-test-scale\">*/}\r\n\t\t\t\t\t{/*<Colour light={baseScale(0.4).css('hsl')} dark={baseScaleDark(0.6).css('hsl')} no={50} />*/}\r\n\t\t\t\t{/*</div>*/}\r\n\t\t\t\t{/*<div className=\"ptr-test-scale\">*/}\r\n\t\t\t\t\t{/*<Colour light={baseScale(0.45).css('hsl')} dark={baseScaleDark(0.55).css('hsl')} no={50} />*/}\r\n\t\t\t\t{/*</div>*/}\r\n\t\t\t\t{/*<div className=\"ptr-test-scale\">*/}\r\n\t\t\t\t\t{/*<Colour light={baseScale(0.46).css('hsl')} dark={baseScaleDark(0.54).css('hsl')} no={50} />*/}\r\n\t\t\t\t{/*</div>*/}\r\n\t\t\t\t{/*<div className=\"ptr-test-scale\">*/}\r\n\t\t\t\t\t{/*<Colour light={baseScale(0.47).css('hsl')} dark={baseScaleDark(0.53).css('hsl')} no={50} />*/}\r\n\t\t\t\t{/*</div>*/}\r\n\t\t\t\t{/*<div className=\"ptr-test-scale\">*/}\r\n\t\t\t\t\t{/*<Colour light={baseScale(0.48).css('hsl')} dark={baseScaleDark(0.52).css('hsl')} no={50} />*/}\r\n\t\t\t\t{/*</div>*/}\r\n\t\t\t\t{/*<div className=\"ptr-test-scale\">*/}\r\n\t\t\t\t\t{/*<Colour light={baseScale(0.49).css('hsl')} dark={baseScaleDark(0.51).css('hsl')} no={50} />*/}\r\n\t\t\t\t{/*</div>*/}\r\n\t\t\t\t{/*<div className=\"ptr-test-scale\">*/}\r\n\t\t\t\t\t{/*<Colour light={baseScale(0.50).css('hsl')} dark={baseScaleDark(0.50).css('hsl')} no={50} />*/}\r\n\t\t\t\t{/*</div>*/}\r\n\t\t\t\t{/*<div className=\"ptr-test-scale\">*/}\r\n\t\t\t\t\t{/*<Colour light={baseScale(0.60).css('hsl')} dark={baseScaleDark(0.40).css('hsl')} no={50} />*/}\r\n\t\t\t\t{/*</div>*/}\r\n\r\n\t\t\t\t{/*<div className=\"ptr-test-scale\">*/}\r\n\t\t\t\t\t{/*<Colour light={accentScale(0.4).css('hsl')} dark={accentScaleDark(0.6).css('hsl')} no={50} />*/}\r\n\t\t\t\t{/*</div>*/}\r\n\t\t\t\t{/*<div className=\"ptr-test-scale\">*/}\r\n\t\t\t\t\t{/*<Colour light={accentScale(0.45).css('hsl')} dark={accentScaleDark(0.55).css('hsl')} no={50} />*/}\r\n\t\t\t\t{/*</div>*/}\r\n\t\t\t\t{/*<div className=\"ptr-test-scale\">*/}\r\n\t\t\t\t\t{/*<Colour light={accentScale(0.46).css('hsl')} dark={accentScaleDark(0.54).css('hsl')} no={50} />*/}\r\n\t\t\t\t{/*</div>*/}\r\n\t\t\t\t{/*<div className=\"ptr-test-scale\">*/}\r\n\t\t\t\t\t{/*<Colour light={accentScale(0.47).css('hsl')} dark={accentScaleDark(0.53).css('hsl')} no={50} />*/}\r\n\t\t\t\t{/*</div>*/}\r\n\t\t\t\t{/*<div className=\"ptr-test-scale\">*/}\r\n\t\t\t\t\t{/*<Colour light={accentScale(0.48).css('hsl')} dark={accentScaleDark(0.52).css('hsl')} no={50} />*/}\r\n\t\t\t\t{/*</div>*/}\r\n\t\t\t\t{/*<div className=\"ptr-test-scale\">*/}\r\n\t\t\t\t\t{/*<Colour light={accentScale(0.49).css('hsl')} dark={accentScaleDark(0.51).css('hsl')} no={50} />*/}\r\n\t\t\t\t{/*</div>*/}\r\n\t\t\t\t{/*<div className=\"ptr-test-scale\">*/}\r\n\t\t\t\t\t{/*<Colour light={accentScale(0.50).css('hsl')} dark={accentScaleDark(0.50).css('hsl')} no={50} />*/}\r\n\t\t\t\t{/*</div>*/}\r\n\t\t\t\t{/*<div className=\"ptr-test-scale\">*/}\r\n\t\t\t\t\t{/*<Colour light={accentScale(0.60).css('hsl')} dark={accentScaleDark(0.40).css('hsl')} no={50} />*/}\r\n\t\t\t\t{/*</div>*/}\r\n\r\n\r\n\t\t\t\t<div className=\"ptr-test-scale\">\r\n\t\t\t\t\t<Colour light={baseScale(0.5).css('hsl')} dark={baseScaleDark(0.5).css('hsl')} no={50} />\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<div className=\"ptr-test-scale\">\r\n\t\t\t\t\t{scaleBase.map((value, index) => (<Colour light={baseScale(func.poly5_3(value)).css('hsl')} dark={baseScaleDark(func.dark_3(value)).css('hsl')} no={index*5} />))}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"ptr-test-scale\">\r\n\t\t\t\t\t<Code\r\n\t\t\t\t\t\tbase={scaleBase}\r\n\t\t\t\t\t\tlight={x => baseScale(func.poly5_3(x)).css('hsl')}\r\n\t\t\t\t\t\tlightString=\"lightBase\"\r\n\t\t\t\t\t\tdark={x => baseScaleDark(func.dark_3(x)).css('hsl')}\r\n\t\t\t\t\t\tdarkString=\"darkABase\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<div className=\"ptr-test-scale\">\r\n\t\t\t\t\t{scaleBase.map((value, index) => (<Colour light={accentScale(func.poly5_3(value)).css('hsl')} dark={accentScaleDark(func.dark_3(value)).css('hsl')} no={index*5} />))}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"ptr-test-scale\">\r\n\t\t\t\t\t<Code\r\n\t\t\t\t\t\tbase={scaleBase}\r\n\t\t\t\t\t\tlight={x => accentScale(func.poly5_3(x)).css('hsl')}\r\n\t\t\t\t\t\tlightString=\"lightAccent\"\r\n\t\t\t\t\t\tdark={x => accentScaleDark(func.dark_3(x)).css('hsl')}\r\n\t\t\t\t\t\tdarkString=\"darkAccent\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\t<div className=\"testy ptr-light\">\r\n\t\t\t\t\t<div title=\"original\">\r\n\t\t\t\t\t\t{originalScale.map(value => (<div style={{background: baseScale(value).css('hsl')}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/*<div title=\"pol_1\">*/}\r\n\t\t\t\t\t\t{/*{scale.pol_1.map(value => (<div style={{background: baseScale(value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"pol_2\">*/}\r\n\t\t\t\t\t\t{/*{scale.pol_2.map(value => (<div style={{background: baseScale(value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t<div title=\"poly5_3\">\r\n\t\t\t\t\t\t{scale.poly5_3.map(value => (<div style={{background: baseScale(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div title=\"linear\">\r\n\t\t\t\t\t\t{scaleBase.map(value => (<div style={{background: baseScale(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"testy ptr-dark\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{darkScale.map(value => (<div style={{background: baseScale(1 - value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/*<div>*/}\r\n\t\t\t\t\t\t{/*{scale.sin.map(value => (<div style={{background: baseScale(1 - value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div>*/}\r\n\t\t\t\t\t\t{/*{scaleBase.map(value => (<div style={{background: baseScaleDark(value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"dark_1\">*/}\r\n\t\t\t\t\t\t{/*{scale.dark_1.map(value => (<div style={{background: baseScaleDark(value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"dark_2\">*/}\r\n\t\t\t\t\t\t{/*{scale.dark_2.map(value => (<div style={{background: baseScaleDark(value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t<div title=\"dark_3\">\r\n\t\t\t\t\t\t{scale.dark_3.map(value => (<div style={{background: baseScaleDark(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/*<div title=\"dark_4\">*/}\r\n\t\t\t\t\t\t{/*{scale.dark_4.map(value => (<div style={{background: baseScaleDark(value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"dark_5\">*/}\r\n\t\t\t\t\t\t{/*{scale.dark_5.map(value => (<div style={{background: baseScaleDark(value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div>*/}\r\n\t\t\t\t\t\t{/*{darkScale.map(value => (<div style={{background: baseScaleDark(value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div>*/}\r\n\t\t\t\t\t\t{/*{darkScale.reverse().map(value => (<div style={{background: baseScaleDark(value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div>*/}\r\n\t\t\t\t\t\t{/*{originalScale.map(value => (<div style={{background: baseScaleDark(value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"poly6_dark_1\">*/}\r\n\t\t\t\t\t\t{/*{scale.poly6_dark_1.map(value => (<div style={{background: baseScale(1 - value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"poly6_dark_2\">*/}\r\n\t\t\t\t\t\t{/*{scale.poly6_dark_2.map(value => (<div style={{background: baseScale(1 - value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"poly6_dark_3\">*/}\r\n\t\t\t\t\t\t{/*{scale.poly6_dark_3.map(value => (<div style={{background: baseScale(1 - value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"poly6_dark_4\">*/}\r\n\t\t\t\t\t\t{/*{scale.poly6_dark_4.map(value => (<div style={{background: baseScale(1 - value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"poly6_dark_5\">*/}\r\n\t\t\t\t\t\t{/*{scale.poly6_dark_5.map(value => (<div style={{background: baseScale(1 - value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"poly5_dark_3\">*/}\r\n\t\t\t\t\t\t{/*{scale.poly5_dark_3.map(value => (<div style={{background: baseScale(1 - value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"poly5_dark_4\">*/}\r\n\t\t\t\t\t\t{/*{scale.poly5_dark_4.map(value => (<div style={{background: baseScale(1 - value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"poly5_dark_2\">*/}\r\n\t\t\t\t\t\t{/*{scale.poly5_dark_2.map(value => (<div style={{background: baseScale(1 - value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"pol_1\">*/}\r\n\t\t\t\t\t\t{/*{scale.pol_1.map(value => (<div style={{background: baseScaleDark(value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"pol_2\">*/}\r\n\t\t\t\t\t\t{/*{scale.pol_2.map(value => (<div style={{background: baseScaleDark(value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"testy ptr-light\">\r\n\t\t\t\t\t<div title=\"original\">\r\n\t\t\t\t\t\t{originalScale.map(value => (<div style={{background: accentScale(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/*<div title=\"pol_1\">*/}\r\n\t\t\t\t\t\t{/*{scale.pol_1.map(value => (<div style={{background: accentScale(value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"pol_2\">*/}\r\n\t\t\t\t\t\t{/*{scale.pol_2.map(value => (<div style={{background: accentScale(value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t<div  title=\"poly5_3\">\r\n\t\t\t\t\t\t{scale.poly5_3.map(value => (<div style={{background: accentScale(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div  title=\"linear\">\r\n\t\t\t\t\t\t{scaleBase.map(value => (<div style={{background: accentScale(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"testy ptr-dark\">\r\n\t\t\t\t\t<div title=\"original\">\r\n\t\t\t\t\t\t{darkScale.map(value => (<div style={{background: accentScale(1 - value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div title=\"linear\">\r\n\t\t\t\t\t\t{scaleBase.map(value => (<div style={{background: accentScaleDark(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/*<div title=\"dark_1\">*/}\r\n\t\t\t\t\t\t{/*{scale.dark_1.map(value => (<div style={{background: accentScaleDark(value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"dark_2\">*/}\r\n\t\t\t\t\t\t{/*{scale.dark_2.map(value => (<div style={{background: accentScaleDark(value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t<div title=\"dark_3\">\r\n\t\t\t\t\t\t{scale.dark_3.map(value => (<div style={{background: accentScaleDark(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div title=\"dark_3\">\r\n\t\t\t\t\t\t{scale.dark_3.map(value => (<div style={{background: accentScale(1 - value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/*<div title=\"dark_4\">*/}\r\n\t\t\t\t\t\t{/*{scale.dark_4.map(value => (<div style={{background: accentScaleDark(value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"dark_5\">*/}\r\n\t\t\t\t\t\t{/*{scale.dark_5.map(value => (<div style={{background: accentScaleDark(value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"poly6_dark_1\">*/}\r\n\t\t\t\t\t\t{/*{scale.poly6_dark_1.map(value => (<div style={{background: accentScale(1 - value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"poly6_dark_2\">*/}\r\n\t\t\t\t\t\t{/*{scale.poly6_dark_2.map(value => (<div style={{background: accentScale(1 - value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"poly6_dark_3\">*/}\r\n\t\t\t\t\t\t{/*{scale.poly6_dark_3.map(value => (<div style={{background: accentScale(1 - value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"poly6_dark_4\">*/}\r\n\t\t\t\t\t\t{/*{scale.poly6_dark_4.map(value => (<div style={{background: accentScale(1 - value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"poly6_dark_5\">*/}\r\n\t\t\t\t\t\t{/*{scale.poly6_dark_5.map(value => (<div style={{background: accentScale(1 - value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"poly5_dark_3\">*/}\r\n\t\t\t\t\t\t{/*{scale.poly5_dark_3.map(value => (<div style={{background: accentScale(1 - value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"poly5_dark_4\">*/}\r\n\t\t\t\t\t\t{/*{scale.poly5_dark_4.map(value => (<div style={{background: accentScale(1 - value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"poly5_dark_2\">*/}\r\n\t\t\t\t\t\t{/*{scale.poly5_dark_2.map(value => (<div style={{background: accentScale(1 - value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"pol_1\">*/}\r\n\t\t\t\t\t\t{/*{scale.pol_1.map(value => (<div style={{background: accentScaleDark(value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t{/*<div title=\"pol_2\">*/}\r\n\t\t\t\t\t\t{/*{scale.pol_2.map(value => (<div style={{background: accentScaleDark(value).hex()}}/>))}*/}\r\n\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"testy ptr-light\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{originalScale.map(value => (<div style={{background: accentScaleLrgb(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div title=\"poly5_3 lrgb\">\r\n\t\t\t\t\t\t{scale.poly5_3.map(value => (<div style={{background: accentScaleLrgb(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"testy ptr-dark\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{darkScale.map(value => (<div style={{background: accentScaleLrgb(1 - value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div title=\"dark_3\">\r\n\t\t\t\t\t\t{scale.dark_3.map(value => (<div style={{background: accentScaleLrgb(1 - value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"testy ptr-light\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{originalScale.map(value => (<div style={{background: accentScale2(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div title=\"poly5_3\">\r\n\t\t\t\t\t\t{scale.poly5_3.map(value => (<div style={{background: accentScale2(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"testy ptr-dark\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{darkScale.map(value => (<div style={{background: accentScale2(1 - value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div title=\"dark_3\">\r\n\t\t\t\t\t\t{scale.dark_3.map(value => (<div style={{background: accentScale2(1 - value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"testy ptr-light\">\r\n\t\t\t\t\t<div title=\"poly5_3\">\r\n\t\t\t\t\t\t{scale.poly5_3.map(value => (<div style={{background: esponFuore(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"testy ptr-dark\">\r\n\t\t\t\t\t<div title=\"dark_3\">\r\n\t\t\t\t\t\t{scale.dark_3.map(value => (<div style={{background: esponFuore(1 - value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"ptr-test-scale\">\r\n\t\t\t\t\t<Code\r\n\t\t\t\t\t\tbase={scaleBase}\r\n\t\t\t\t\t\tlight={x => esponFuore(func.poly5_3(x)).css('hsl')}\r\n\t\t\t\t\t\tlightString=\"lightAccent\"\r\n\t\t\t\t\t\tdark={x => esponFuore(1 - func.dark_3(x)).css('hsl')}\r\n\t\t\t\t\t\tdarkString=\"darkAccent\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"testy ptr-light\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{originalScale.map(value => (<div style={{background: accentScale3(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div title=\"poly5_3\">\r\n\t\t\t\t\t\t{scale.poly5_3.map(value => (<div style={{background: accentScale3(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"testy ptr-dark\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{darkScale.map(value => (<div style={{background: accentScale3(1 - value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div title=\"dark_3\">\r\n\t\t\t\t\t\t{scale.dark_3.map(value => (<div style={{background: accentScale3(1 - value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"testy ptr-light\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{originalScale.map(value => (<div style={{background: accentScale4(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div title=\"poly5_3 \">\r\n\t\t\t\t\t\t{scale.poly5_3.map(value => (<div style={{background: accentScale4(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"testy ptr-dark\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{darkScale.map(value => (<div style={{background: accentScale4(1 - value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div title=\"dark_3\">\r\n\t\t\t\t\t\t{scale.dark_3.map(value => (<div style={{background: accentScale4(1 - value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"testy ptr-light\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{originalScale.map(value => (<div style={{background: accentScale5(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div title=\"poly5_3 \">\r\n\t\t\t\t\t\t{scale.poly5_3.map(value => (<div style={{background: accentScale5(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"testy ptr-dark\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{darkScale.map(value => (<div style={{background: accentScale5(1 - value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div title=\"dark_3\">\r\n\t\t\t\t\t\t{scale.dark_3.map(value => (<div style={{background: accentScale5(1 - value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"testy ptr-light\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{originalScale.map(value => (<div style={{background: accentScale6(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div title=\"poly5_3 \">\r\n\t\t\t\t\t\t{scale.poly5_3.map(value => (<div style={{background: accentScale6(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"testy ptr-dark\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{darkScale.map(value => (<div style={{background: accentScale6(1 - value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div title=\"dark_3\">\r\n\t\t\t\t\t\t{scale.dark_3.map(value => (<div style={{background: accentScale6(1 - value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"testy ptr-light\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{originalScale.map(value => (<div style={{background: accentScale7(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div title=\"poly5_3 \">\r\n\t\t\t\t\t\t{scale.poly5_3.map(value => (<div style={{background: accentScale7(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"testy ptr-dark\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{darkScale.map(value => (<div style={{background: accentScale7(1 - value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div title=\"dark_3\">\r\n\t\t\t\t\t\t{scale.dark_3.map(value => (<div style={{background: accentScale7(1 - value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<div className=\"testy ptr-bo-colours\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{originalScale.map(value => (<div style={{background: boBaseScale(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div title=\"poly5_3 \">\r\n\t\t\t\t\t\t{scale.poly5_3.map(value => (<div style={{background: boBaseScale(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"testy t2 ptr-bo-colours\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{originalScale.map(value => (<div style={{background: boAccentScale(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div title=\"poly5_3 \">\r\n\t\t\t\t\t\t{scale.poly5_3.map(value => (<div style={{background: boAccentScale(value).hex()}}/>))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"testy t3 ptr-bo-colours\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div/><div/><div/><div/><div/><div/><div/><div/><div/><div/><div/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Test;","import React from 'react';\r\nimport _ from \"lodash\";\r\nimport {Button} from \"@gisatcz/ptr-atoms\";\r\nimport {PresentationMap, MapControls, ReactLeafletMap} from \"@gisatcz/ptr-maps\";\r\n\r\nimport france from \"../data/france_gadm_4_simplified.json\";\r\n\r\nconst view = {\r\n\tcenter: {lat: 48, lon: 4},\r\n\tboxRange: 1000000\r\n};\r\n\r\nconst osm = {\r\n\tkey: 'background-osm',\r\n\ttype: 'wmts',\r\n\toptions: {\r\n\t\turl: 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\r\n\t}\r\n};\r\n\r\nfunction getTile(features, start, stop) {\r\n\treturn {\r\n\t\tlevel: _.random(1,18),\r\n\t\ttile: [_.random(-90,90, true), _.random(-180,180, true)],\r\n\t\tfeatures: features.slice(start, stop + 20) // some duplicities\r\n\t}\r\n}\r\n\r\nfunction getFirstTiledFeatures(features, step) {\r\n\treturn [\r\n\t\tgetTile(features, 0, step),\r\n\t\tgetTile(features, step, 2*step)\r\n\t]\r\n}\r\n\r\nfunction getAllTiledFeatures(features, step) {\r\n\tlet restTiledFeatures = [];\r\n\tfor (let i = 0; i <= features.length/step; i++) {\r\n\t\trestTiledFeatures.push(getTile(features, i*step, (i+1)*step));\r\n\t}\r\n\treturn restTiledFeatures;\r\n}\r\n\r\n\r\nconst layers = [\r\n\t{\r\n\tkey: \"layer\",\r\n\ttype: \"tiled-vector\",\r\n\t// type: \"vector\",\r\n\topacity: 1,\r\n\r\n\toptions: {\r\n\t\ttiles: getFirstTiledFeatures(france.features, 300),\r\n\t\t// features: franceBack.features,\r\n\t\thoverable: true,\r\n\t\thovered: {\r\n\t\t\tstyle: \"default\"\r\n\t\t},\r\n\t\tselectable: true,\r\n\t\tselected: {\r\n\t\t\ttestSelection: {\r\n\t\t\t\tstyle: \"default\",\r\n\t\t\t\thoveredStyle: \"default\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tstyle: {\r\n\t\t\trules: [{\r\n\t\t\t\tstyles: [{\r\n\t\t\t\t\toutlineWidth: 1,\r\n\t\t\t\t\toutlineColor: \"#666666\",\r\n\t\t\t\t\toutlineOpacity: 1,\r\n\t\t\t\t\tfillOpacity: 0.5\r\n\t\t\t\t}, {\r\n\t\t\t\t\tattributeKey: \"GID_1\",\r\n\t\t\t\t\tattributeValues: {\r\n\t\t\t\t\t\t\"FRA.1_1\": {\r\n\t\t\t\t\t\t\tfill: \"#ff0000\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"FRA.2_1\": {\r\n\t\t\t\t\t\t\tfill: \"#00ff00\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"FRA.3_1\": {\r\n\t\t\t\t\t\t\tfill: \"#0000ff\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"FRA.4_1\": {\r\n\t\t\t\t\t\t\tfill: \"#00ffff\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"FRA.5_1\": {\r\n\t\t\t\t\t\t\tfill: \"#ff00ff\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"FRA.6_1\": {\r\n\t\t\t\t\t\t\tfill: \"#ffff00\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"FRA.7_1\": {\r\n\t\t\t\t\t\t\tfill: \"#aaffcc\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"FRA.8_1\": {\r\n\t\t\t\t\t\t\tfill: \"#cf18cc\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"FRA.9_1\": {\r\n\t\t\t\t\t\t\tfill: \"#8118cc\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"FRA.10_1\": {\r\n\t\t\t\t\t\t\tfill: \"#8aa8cc\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"FRA.11_1\": {\r\n\t\t\t\t\t\t\tfill: \"#8a7818\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"FRA.12_1\": {\r\n\t\t\t\t\t\t\tfill: \"#8aa818\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"FRA.13_1\": {\r\n\t\t\t\t\t\t\tfill: \"#111818\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}]\r\n\t\t\t}]\r\n\t\t},\r\n\t\tfidColumnName: \"GID_4\"\r\n\t}\r\n}];\r\n\r\nconst style = {\r\n\trules: [{\r\n\t\tstyles: [{\r\n\t\t\tfill: \"#bbeeee\"\r\n\t\t}]\r\n\t}]\r\n}\r\n\r\nclass Leaflet extends React.PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tlayers\r\n\t\t};\r\n\r\n\t\tthis.addFeaturesTiled = this.addFeaturesTiled.bind(this);\r\n\t\tthis.setStyle = this.setStyle.bind(this);\r\n\t\tthis.removeTile = this.removeTile.bind(this);\r\n\t\tthis.onLayerClick = this.onLayerClick.bind(this);\r\n\t}\r\n\r\n\tonLayerClick(mapKey, layerKey, selectedFeatures) {\r\n\t\tthis.setState({\r\n\t\t\tlayers: this.state.layers.map((layer, i) => {\r\n\t\t\t\t// Otherwise, this is the one we want - return an updated value\r\n\t\t\t\tif (layer.key === layerKey) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...layer,\r\n\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\t...layer.options,\r\n\t\t\t\t\t\t\tselected: {\r\n\t\t\t\t\t\t\t\t...layer.options.selected,\r\n\t\t\t\t\t\t\t\ttestSelection: {\r\n\t\t\t\t\t\t\t\t\t...layer.options.selected.testSelection,\r\n\t\t\t\t\t\t\t\t\tkeys: selectedFeatures\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn layer;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\tsetStyle() {\r\n\t\tthis.setState({\r\n\t\t\tlayers: this.state.layers.map((layer, i) => {\r\n\t\t\t\t// Otherwise, this is the one we want - return an updated value\r\n\t\t\t\tif (layer.key === 'layer') {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...layer,\r\n\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\t...layer.options,\r\n\t\t\t\t\t\t\tstyle,\r\n\t\t\t\t\t\t\t// features: layer.options.features.map(feature => _.cloneDeep(feature))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn layer;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\tremoveTile() {\r\n\t\tconst prevTiles = this.state.layers[0].options.tiles;\r\n\t\tconst tiles = prevTiles.slice(1, prevTiles.length + 1);\r\n\r\n\t\tthis.setState({\r\n\t\t\tlayers: this.state.layers.map((layer, i) => {\r\n\t\t\t\t// Otherwise, this is the one we want - return an updated value\r\n\t\t\t\tif (layer.key === 'layer') {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...layer,\r\n\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\t...layer.options,\r\n\t\t\t\t\t\t\ttiles\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn layer;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\taddFeaturesTiled() {\r\n\t\tconst restTiledFeatures = getAllTiledFeatures(france.features, 300);\r\n\t\tfor (let i = 2; i < restTiledFeatures.length; i++) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tlet tiles = [...this.state.layers[0].options.tiles];\r\n\t\t\t\tconst tileToAdd = restTiledFeatures[i];\r\n\r\n\t\t\t\tif (!_.find(tiles, tile => tile.tile[0] === tileToAdd.tile[0])) {\r\n\t\t\t\t\ttiles.push(tileToAdd);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlayers: this.state.layers.map((layer, i) => {\r\n\t\t\t\t\t\t// Otherwise, this is the one we want - return an updated value\r\n\t\t\t\t\t\tif (layer.key === 'layer') {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t...layer,\r\n\t\t\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\t\t\t...layer.options,\r\n\t\t\t\t\t\t\t\t\ttiles\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn layer;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t}, 1);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"ptr-light\">\r\n\t\t\t\t<div className=\"ptr-light\" style={{display: 'flex', flexWrap: 'wrap'}}>\r\n\t\t\t\t\t<div style={{height: 400, width: 1000, margin: 10}}>\r\n\t\t\t\t\t\t<PresentationMap\r\n\t\t\t\t\t\t\tmapKey=\"leaflet\"\r\n\t\t\t\t\t\t\tmapComponent={ReactLeafletMap}\r\n\t\t\t\t\t\t\tbackgroundLayer={osm}\r\n\t\t\t\t\t\t\tview={view}\r\n\t\t\t\t\t\t\tlayers={this.state.layers}\r\n\t\t\t\t\t\t\tonLayerClick={this.onLayerClick}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MapControls zoomOnly levelsBased/>\r\n\t\t\t\t\t\t</PresentationMap>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Button onClick={this.setStyle}>Change style</Button>\r\n\t\t\t\t<Button onClick={this.addFeaturesTiled}>Add the rest of tiles</Button>\r\n\t\t\t\t<Button onClick={this.removeTile}>Remove tile</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Leaflet;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {Provider} from '@gisatcz/ptr-state';\r\nimport createStore from './state/Store';\r\n\r\nimport '@gisatcz/ptr-core/lib/styles/reset.css';\r\nimport '@gisatcz/ptr-core/lib/styles/base.scss';\r\nimport './index.scss';\r\n\r\nimport MapZoomBoxRangeRange from \"./components/MapZoomBoxRangeRange\";\r\nimport MapWrapperPlayground from \"./components/MapWrapperPlayground\";\r\nimport MapView from \"./components/MapView\";\r\n\r\n// import scripts from \"./scripts\";\r\nimport Test from \"./components/Test\";\r\nimport LeafletGlify from \"./components/Leaflet\";\r\n\r\nconst {store} = createStore();\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n\t\t<LeafletGlify/>\r\n        {/*<MapZoomBoxRangeRange/>*/}\r\n        {/*<MapWrapperPlayground/>*/}\r\n        {/*<MapView/>*/}\r\n        {/*<div>Check console!</div>*/}\r\n        {/*<Test/>*/}\r\n    </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}